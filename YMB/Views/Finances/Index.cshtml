@model IEnumerable<YMB.Models.Accounts>
@{
    ViewBag.Title = "Accounts";
    var totalBillAmount = 0.0M;
}

<h2 class="ymb-yellow-text">Accounts</h2>

<p>
    Next Paycheck:  <b>@ViewBag.NextPaycheck</b>
</p>
<p>
    Bills Due This Paycheck:<br/>
    <div class="row">
        @foreach (var bill in ViewBag.BillsListPayCheck)
        {
            totalBillAmount += bill.acctBillDueAmount;
            if (bill.acctBillDueAmount > 0)
            {
                <div class="col-sm-3">
                    <span class="acct-bill-spacing">@bill.acctName</span>&raquo;<span class="acct-bill-spacing">$@bill.acctBillDueAmount</span>
                </div><br />
            }
        }
    </div>
    <br/>
    <b>Total:</b>  @totalBillAmount
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.acctName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.acctBalance)
        </th>
        <th class="no-show-on-phone">
            @Html.DisplayNameFor(model => model.acctBillDueDate)
        </th>
        <th class="no-show-on-phone">
            @Html.DisplayNameFor(model => model.acctBillDueAmount)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        if (item.display)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.acctName)
                </td>
                <td>
                    @if (item.acctType == 2 && item.acctBalance > 0)
                    {
                        <span class="red">
                            @Html.DisplayFor(modelItem => item.acctBalance)
                        </span>
                    }
                    else
                    {
                        <span class="green">
                            @Html.DisplayFor(modelItem => item.acctBalance)
                        </span>
                    }
                </td>
                <td class="no-show-on-phone">
                    @if (item.acctBillDueAmount > 0)
                    {
                        @Html.DisplayFor(modelItem => item.acctBillDueDate)
                    }
                </td>
                <td class="no-show-on-phone">
                    @if (item.acctBillDueAmount > 0)
                    {
                        @Html.DisplayFor(modelItem => item.acctBillDueAmount)
                    }
                </td>
                <td>
                    @*@Html.ActionLink("Edit", "Edit", new { id=item.acctId }) |*@
                    @Html.ActionLink("Details", "Details", new { id = item.acctId })
                    @*@Html.ActionLink("Delete", "Delete", new { id=item.acctId })*@
                </td>
            </tr>
        }
    }

</table>
